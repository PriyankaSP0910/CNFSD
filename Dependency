version: "3.08"

services:
   db:
       image: mysql:latest
       environment:
               DATABASE_PORT: 3306
               MYSQL_ROOT_PASSWORD: root
               MYSQL_DATABASE: student
               MYSQL_USER: admin
               MYSQL_PASSWORD: root
       networks:
        - default
   app:
       image: lab9_image:latest
       ports: 
       - 8080:8080
       environment:
              spring.datasource.url: jdbc:mysql://db:3306/student
              spring.datasource.driverClassName: com.mysql.cj.jdbc.Driver
              spring.datasource.username: admin
              spring.datasource.password: root
       depends_on: 
            - db
       networks:
            - default







<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-configuration PUBLIC
		"-//Hibernate/Hibernate Configuration DTD 3.0//EN"
		"http://hibernate.org/dtd/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
    <session-factory>
        <property name="hibernate.connection.driver_class">com.mysql.cj.jdbc.Driver</property>
        <property name="hibernate.connection.url">jdbc:mysql://localhost:3306/student</property>
		<property name="hibernate.connection.username">root</property>
		<property name="hibernate.connection.password">1234</property>
        <property name="hibernate.connection.pool_size">10</property>    
      	<property name="show_sql">true</property> 
      	<property name="hibernate.hbm2ddl.auto">update</property>
           <mapping resource="Studentmap.hbm.xml"/>        
    </session-factory>    
</hibernate-configuration>







<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC 
"-//Hibernate/Hibernate Mapping DTD//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
	<class name="LabCycle06.Student" table="Student">
		<id name="id" type="int" column="id">
			<generator class="native" />
		</id>
		<property name="totalMarks" column="totalMarks" type="int" />
		<property name="usn" column="usn" type="string" />
		<property name="name" column="name" type="string" />
		<property name="address" column="address" type="string" />
	</class>
</hibernate-mapping>
